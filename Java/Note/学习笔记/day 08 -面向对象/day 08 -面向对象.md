# 1. 类和对象

### 1.1 类和对象的理解

客观存在的事物皆为对象 ，所以我们也常常说万物皆对象。

* 类
  * 类的理解
    * 类是对现实生活中一类具有共同属性和行为的事物的抽象
    * 类是对象的数据类型，类是具有相同属性和行为的一组对象的集合
    * 简单理解：类就是对现实事物的一种描述
  * 类的组成
    * 属性：指事物的特征，例如：手机事物（品牌，价格，尺寸）
    * 行为：指事物能执行的操作，例如：手机事物（打电话，发短信）
* 类和对象的关系
  * 类（设计图）：类是对现实生活中一类具有共同属性和行为的事物的抽象（是对象共同特征的描述）
  * 对象：是能够看得到摸的着的真实存在的实体（是真实存在的具体东西）
  * 在Java中，必须先设计类，才能获得对象
  * 简单理解：**类是对事物的一种描述，对象则为具体存在的事物**

### 1.2 类的定义

类的组成是由属性和行为两部分组成

* 属性：在类中通过成员变量来体现（类中方法外的变量）
* 行为：在类中通过成员方法来体现（和前面的方法相比去掉static关键字即可）

类的定义步骤：

①定义类

②编写类的成员变量

③编写类的成员方法

```java
public class 类名 {
	// 成员变量
	变量1的数据类型 变量1；
	变量2的数据类型 变量2;
	…
	// 成员方法
	方法1;
	方法2;	
}
```

补充注意事项：

- 用来描述一类事物的事，专业叫做：Javabean类。

  在Javabean类中，是不写main方法的。

- 编写main方法的类，叫做：测试类。

  我们可以在测试类中创建Javabean类的对象并进行赋值调用。

- 类名首字母建议大写，需要见名知意，驼峰模式，不能用关键字，满足标识符规定

- 一个Java文件中可以定义多个class类，且只能一个类是public修饰，而且public修饰的类名必须为Java代码文件名。

  **实际开发中建议还是一个文件定义一个class类**

- 成员变量的完整定义格式是：修饰符 数据类型 变量名称 = 初始化值；一般无需指定初始化值，存在默认值。

### 1.3 对象的使用

* 创建对象的格式：
  * 类名 对象名 = new 类名();
* 调用成员的格式：
  * 对象名.成员变量
  * 对象名.成员方法();

### 1.4 对象的成员变量的默认值规则

| 数据类型 |          明细          | 默认值 |
| :------: | :--------------------: | :----: |
|          | byte、short、int、long |   0    |
| 基本类型 |     float、double      |  0.0   |
|          |        boolean         | false  |
| 引用类型 | 类、接口、数组、String |  null  |

# 2. 封装

### 4.1 封装思想

1. 封装概述
   是面向对象三大特征之一（封装，继承，多态）

   **对象代表什么，就得封装对应的数据，并提供数据对应的行为** 

2. 封装代码实现
   将类的某些信息隐藏在类内部，不允许外部程序直接访问，而是通过该类提供的方法来实现对隐藏信息的操作和访问
   成员变量private，提供对应的getXxx()/setXxx()方法

### 4.2 private关键字

private是一个权限修饰符，可以用来修饰成员（成员变量，成员方法）

* 被private修饰的成员，只能在本类进行访问，针对private修饰的成员变量，如果需要被其他类使用，提供相应的操作
  * 提供“get变量名()”方法，用于获取成员变量的值，方法用public修饰
  * 提供“set变量名(参数)”方法，用于设置成员变量的值，方法用public修饰


### 4.3 this关键字

* this修饰的变量用于指代成员变量，其主要作用是（==区分局部变量和成员变量==的重名问题）
  * 方法的形参如果与成员变量同名，不带this修饰的变量指的是形参，而不是成员变量
  * 方法的形参没有与成员变量同名，不带this修饰的变量指的是成员变量

```java
public class Student {
    private String name;
    private int age;

    public void setName(String name) {
        this.name = name;
    }

    public String getName() {
        return name;
    }

    public void setAge(int age) {
        this.age = age;
    }

    public int getAge() {
        return age;
    }

    public void show() {
        System.out.println(name + "," + age);
    }
}
```

# 3. 构造方法

### 3.1 构造方法概述

构造方法也叫作构造器、构造函数是一种特殊的方法

* 作用：在创建对象的时候给成员变量进行赋值的(创造对象的时候，由虚拟机自动调用，给成员变量进行初始化的)

  ​		   Student stu = **new Student();**

* 格式：

  ```java
public class Student{
      修饰符 类名(参数){
        方法体;
      }
}
  ```

* 功能：主要是完成对象数据的初始化

* 特点：

  1. 方法名与类名相同，大小写也要一致
  2. 没有返回值类型，连void都没有
  3. 没有具体的返回值（不能由retrun带回结果数据）

* 执行时机：

  * 创建对象的时候由虚拟机调用，不能手动调用构造方法
  * 每创建一次对象，就会调用一次构造方法

### 3.2 两种构造方法

无参数（空参）构造方法：初始化的对象时，成员变量的数据均采用默认值

有参数构造方法：在初始化对象的时候，同时可以为对象进行赋值

### 3.3 构造方法的注意事项

* 构造方法的创建

如果没有定义构造方法，系统将给出一个==默认的无参数构造方法==
如果定义了构造方法，系统将不再提供默认的构造方法

* 构造方法的重载

如果自定义了带参构造方法，还要使用无参数构造方法，就必须再写一个无参数构造方法

* 推荐的使用方式

无论是否使用，都手工书写无参数构造方法，和带全部参数的构造方法

* 重要功能！

可以使用带参构造，为成员变量进行初始化

### 3.4 标准的JavaBean类制作

① 类名需要见名知意

② 成员变量使用==private==修饰

③ 提供至少两个构造方法 

* **无参构造方法**
* **带全部参数的构造方法**

④ 成员方法

- get和set方法

  ​	**提供每一个成员变量对应**的setXxx()/getXxx()

- 如果还有其他行为，也需要写上


# 4. 对象内存图 （P7）

### 4.1 单个对象内存图

* 成员变量使用过程

![1](img\day 08\1.png)

* 成员方法调用过程

![2](img\day 08\2.png)

### 4.2 多个对象内存图

* 成员变量使用过程

![3](img\day 08\3.png)

* 成员方法调用过程

![4](img\day 08\4.png)

* 总结：

  多个对象在堆内存中，都有不同的内存划分，成员变量存储在各自的内存区域中，成员方法多个对象共用的一份

### 4.3 两个引用指向同一个对象

![](img\day 08\两个引用指向同一个对象.png)

# 5. 基本数据类型和引用数据类型（P8）

### 5.1 基本数据类型

整数类型、浮点数类型、布尔类型、字符类型

### 5.2 引用数据类型

除了基本数据类型的其他所有类型

### 5.3 从内存的角度去解释：

- 基本数据类型：数据值是存储在自己的空间中

  特点：赋值给其他变量，也是赋的真实的值

- 引用数据类型：数据值是存储在其他空间中，自己空间中存储的是地址值

  特点：赋值给其他变量，赋的地址值

# 6. this的内存原理（P9）

### 6.1 this的本质

所在方法调用者的地址值

### 6.2 内存图

![](img\day 08\this的内存原理.png)

# 7. 成员变量和局部变量（P10）

### 7.1 概念

成员变量：类中方法外的变量（==就近原则==：“谁理我近，我就用谁”）

局部变量：方法中的变量

### 7.2 成员变量和局部变量的区别

* 类中位置不同：成员变量（类中方法外）局部变量（方法内部或方法声明上）
* 内存中位置不同：成员变量（堆内存）局部变量（栈内存）
* 生命周期不同：成员变量（随着对象的存在而存在，随着对象的消失而消失）局部变量（随着方法的调用而存在，醉着方法的调用完毕而消失）
* 初始化值不同：成员变量（有默认初始化值）局部变量（没有默认初始化值，必须先定义，赋值才能使用）

|     区别     |                  成员变量                  |                局部变量（形参）                |
| :----------: | :----------------------------------------: | :--------------------------------------------: |
| 类中位置不同 |                类中，方法外                |              方法内、 方法申明上               |
| 初始化值不同 |               有默认初始化值               |       没有初始化值，使用之前需要完成赋值       |
| 内存位置不同 |                   堆内存                   |                     栈内存                     |
| 生命周期不同 | 随着对象的创建而存在，随着对象的消失而消失 | 随着方法的调用而存在，随着方法的运行结束而消失 |
|    作用域    |                整个类中有效                |                 当前方法中有效                 |

